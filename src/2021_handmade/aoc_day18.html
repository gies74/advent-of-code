<html>
<head>
<script>

var input = input = [[[2,[[4,8],7]],[[9,7],[[2,0],9]]],[0,[7,5]],[[[5,[6,9]],4],[3,3]],[[[6,[6,9]],4],[[[4,8],8],[6,5]]],[[[[1,4],[2,1]],[6,0]],[[[9,1],[4,2]],[[0,4],0]]],[[9,4],[[8,6],1]],[[[[0,7],0],7],[1,[2,9]]],[[[2,9],[[8,4],[4,0]]],[[[6,2],2],[9,5]]],[[[0,[5,8]],[6,8]],[[[0,7],4],[[2,8],4]]],[[3,[[4,1],[0,7]]],[[1,[5,1]],4]],[[[[2,9],6],[[5,3],2]],[[8,[2,0]],9]],[0,[[[2,7],9],[1,8]]],[[[2,[6,2]],[[4,0],[9,6]]],[[6,1],[8,9]]],[[[[9,6],9],[5,[1,8]]],[[[9,6],9],[[2,0],[3,8]]]],[[[[4,3],[0,8]],4],[6,6]],[[[[4,3],7],[[7,0],5]],[2,[[9,9],4]]],[[[[4,3],[1,7]],[[3,1],[0,9]]],0],[[5,[[2,5],[2,8]]],[[4,0],[[5,2],[9,8]]]],[[[0,[3,5]],7],[[[5,9],2],4]],[[9,[[4,4],8]],[[[2,8],1],[[0,9],5]]],[[[6,8],[0,1]],[[8,2],[2,0]]],[[[1,9],[[9,1],2]],[[6,4],[[7,7],[8,3]]]],[[1,[5,[7,6]]],[[[4,7],4],5]],[[[8,0],9],[[[6,0],4],1]],[[[4,[4,2]],7],[[6,[0,9]],[[3,0],[7,6]]]],[[[[3,4],[9,0]],[4,4]],[[9,6],7]],[4,[[8,3],[7,1]]],[6,[6,8]],[[[[0,6],[7,6]],[5,3]],[[[8,9],[6,0]],[[8,5],7]]],[[[[0,3],1],5],[[[4,3],[3,2]],[2,[5,9]]]],[[[[3,1],0],[1,[8,4]]],[4,5]],[[[0,[4,1]],1],[[1,6],[[4,8],[8,3]]]],[[[1,4],6],[9,[1,2]]],[[9,[[0,7],1]],[[0,9],[0,[4,4]]]],[[1,[7,4]],[[2,[5,3]],[[6,6],9]]],[0,[0,[0,[0,4]]]],[[[[9,7],[4,9]],[9,[3,5]]],[[9,7],7]],[5,[9,[[4,1],[2,9]]]],[[0,[8,4]],1],[[[9,[3,3]],[8,6]],[7,[[1,6],0]]],[[[1,[0,7]],[[9,1],8]],[[[2,2],5],[[7,1],[2,2]]]],[[[7,[0,3]],4],[[6,[1,6]],[8,7]]],[[[[4,8],3],[[6,1],7]],[8,[3,[7,8]]]],[3,[[[9,6],9],3]],[[[5,[1,0]],[1,4]],5],[[[[4,7],2],[[7,0],[6,7]]],[[1,[0,3]],0]],[9,[[3,7],[6,1]]],[[[2,5],[[0,7],[0,7]]],[[[0,3],2],8]],[[[[4,4],7],[2,[0,7]]],[[[1,4],[6,6]],[[8,9],[5,2]]]],[[[[0,8],5],[[3,5],7]],[[[5,6],[0,0]],[[3,8],6]]],[4,[8,[9,[2,3]]]],[[[[6,6],9],0],[[[2,9],[0,8]],5]],[[[8,[4,0]],[[2,1],[7,3]]],[8,7]],[[6,[9,[1,8]]],[[7,[7,9]],[[2,3],1]]],[[6,[[1,7],1]],[[[5,3],[2,0]],[[4,4],9]]],[[[[8,0],[0,3]],[[4,8],[0,9]]],[8,[7,[8,6]]]],[6,0],[[[[5,2],0],[3,3]],[0,4]],[[[9,5],[6,4]],[[[7,2],0],8]],[[[0,9],[5,[2,3]]],2],[[[[5,4],[2,9]],[1,[9,0]]],[[9,9],[9,6]]],[[[7,[4,8]],[9,8]],[[[1,3],0],[4,[4,7]]]],[[7,[7,9]],0],[[[[6,7],[8,1]],[[0,2],2]],[[[7,6],6],[[3,4],[9,9]]]],[[7,[6,[2,2]]],[[[8,8],[0,4]],[5,[7,7]]]],[[[[0,6],[9,2]],[8,1]],[[[0,4],2],[[5,9],[4,9]]]],[[[[9,1],[1,7]],[[3,1],[0,7]]],[[2,[4,9]],[9,1]]],[[[9,4],2],[[[2,3],3],[6,[5,7]]]],[[[0,8],[[0,9],2]],[[[0,7],[4,4]],7]],[[[5,2],4],[0,6]],[[3,[9,[9,2]]],[8,[1,[6,8]]]],[3,[7,[[8,0],[1,7]]]],[[[[2,4],[7,3]],[[0,7],0]],5],[[[[6,0],8],[1,4]],[[[3,3],[8,6]],5]],[[5,[5,[6,2]]],4],[[[0,7],[[4,1],4]],[[8,[3,2]],[7,7]]],[[1,[[6,5],[2,2]]],[[6,[2,8]],[1,0]]],[6,[4,[[2,2],[1,8]]]],[[[[3,3],1],[[4,1],7]],[[[5,2],7],[4,[4,7]]]],[[[[2,2],1],[[4,1],3]],[1,[[0,9],[3,8]]]],[[0,[0,4]],[[9,[7,5]],[8,[8,0]]]],[[[[0,3],3],[[7,3],5]],[4,[[0,1],[3,0]]]],[[4,8],3],[[[6,0],7],[[6,8],[8,6]]],[[[[8,5],3],[[6,2],[2,6]]],[[[2,7],5],[[3,8],[6,9]]]],[7,[4,2]],[[[[6,0],[7,8]],6],[[[4,6],6],7]],[[[0,[2,1]],[5,[3,8]]],[[[3,9],3],[[0,9],3]]],[[[8,6],[4,0]],[2,[[4,1],8]]],[[[0,1],[[2,0],5]],[[[0,1],[7,0]],[[1,2],[1,4]]]],[[[8,8],[[4,4],3]],[1,[4,1]]],[[[5,[0,7]],[7,5]],[[7,6],[5,5]]],[[[9,[1,3]],[[3,3],6]],[4,[[5,6],8]]],[[[9,[3,0]],[8,5]],[1,[[8,0],3]]],[[[3,[3,9]],[[2,4],[4,6]]],[[1,2],3]],[[[1,[3,1]],[3,[6,3]]],[1,[5,7]]],[[[[5,5],[1,5]],3],[9,[[7,4],[9,2]]]],[[[6,[7,1]],[[6,6],[1,6]]],7],[[[[1,4],0],[8,3]],[[[8,2],9],[[0,3],[9,5]]]],[[4,[1,[0,1]]],[[1,[7,3]],1]]];
//input = [[[[0,[4,5]],[0,0]],[[[4,5],[2,6]],[9,5]]],[7,[[[3,7],[4,3]],[[6,3],[8,8]]]],[[2,[[0,8],[3,4]]],[[[6,7],1],[7,[1,6]]]],[[[[2,4],7],[6,[0,5]]],[[[6,8],[2,8]],[[2,1],[4,5]]]],[7,[5,[[3,8],[1,4]]]],[[2,[2,2]],[8,[8,1]]],[2,9],[1,[[[9,3],9],[[9,0],[0,7]]]],[[[5,[7,4]],7],1],[[[[4,2],2],6],[8,7]]];
//input = [[[[0,[5,4]],[[7,7],[6,0]]],[[8,[7,7]],[[7,9],[5,0]]]],[[2,[[0,8],[3,4]]],[[[6,7],1],[7,[1,6]]]]];
//input = [[[[[4,3],4],4],[7,[[8,4],9]]],[1,1]];
//input = [[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];

var exploded = false, splitted = false, maySplit = false;

function reduce(sn) {
  exploded = true;
  maySplit = false;
  var reductions = 2000;
  while (exploded && reductions > 0) {
    exploded = false;
	splitted = false;
	//console.log(JSON.stringify(sn));
    var [left, sn, right] = explode(sn, 0);
	if (maySplit && splitted) {
	  exploded = true;
	  maySplit = false;
	  reductions--;
	  continue;
	}
	if (!exploded && !maySplit) {
	  exploded = true;
	  maySplit = true;
	  reductions--;
	  continue;
	}
	if (!exploded && maySplit && !splitted)
	  break;
	reductions--;
  }
  if (reductions == 0)
    throw "Too low";
  //console.log(`------------${reductions} reductions left-----------\n`);
  return sn;
}

function ladd(sn, num) {
  if (isNum(sn))
    return split(num+sn);
  return [ladd(sn[0],num),sn[1]];
}

function radd(sn, num) {
  if (isNum(sn))
    return split(num+sn);
  return [sn[0], radd(sn[1],num)];
}


function explode(sn, depth) {
  if (isNum(sn))
    return [0, split(sn), 0];

  if (depth==4) {
	exploded = true;
    return [sn[0], 0, sn[1]];
  }

  if (depth<4) {
    var [lleft, lSn, lright] = explode(sn[0], depth+1);
    var [rleft, rSn, rright] = !exploded ? explode(sn[1], depth+1) : [0, sn[1], 0];
	var sn0 = radd(lSn, rleft);
	var sn1 = ladd(rSn, lright);
	return [lleft,[sn0, sn1], rright];		
  }
}

function split(num) {
  if (!maySplit || splitted || num < 10)
    return num;
  splitted = true;
  return [Math.floor(num/2), Math.ceil(num/2)];
}

function isNum(sn) {
  return typeof sn==="number";
}

function magnitude(sn) {
  if (isNum(sn))
    return sn;
  return 3*magnitude(sn[0]) + 2*magnitude(sn[1]);
}

function start0() {

  var sn = input[0];
  for (var i=1; i<input.length;i++)
  {
    sn = reduce([sn,input[i]]);
  }
  var mag = magnitude(sn);


  console.log(`Magnitude ${mag}\n`);
}

function start() {

  var highest = Number.MIN_SAFE_INTEGER;
  for (var i=0; i<input.length-1;i++)
  {
    for (var j=i+1; j<input.length;j++)
    {
      sn = reduce([input[i],input[j]]);
	  mag1 = magnitude(sn);
      sn = reduce([input[j],input[i]]);
	  mag2 = magnitude(sn);
	  highest = Math.max(highest, mag1, mag2);
    }
  }

  console.log(`Highest ${highest}\n`);
}

class RDPoint {
    constructor(x,y) {
        this.x = x;
        this.y = y;
    }
}
var texelVlieland = new RDPoint(119200, 578700);
var hartIJsselmeer = new RDPoint(156600, 530200);
var woerden = new RDPoint(119500,453600);
const stationTypeByXY = (someRDPoint) => {
    const ALFEN = "ALFEN";
    const AKA = "AKA";
    
    var _lineWoerdenIJsselmeer_a = (hartIJsselmeer.y - woerden.y) / (hartIJsselmeer.x - woerden.x);
    var _lineTexelVlielandIJsselmeer_a = (hartIJsselmeer.y - texelVlieland.y) / (hartIJsselmeer.x - texelVlieland.x);
    if (someRDPoint.x < hartIJsselmeer.x && 
	    (someRDPoint.y - woerden.y) > _lineWoerdenIJsselmeer_a * (someRDPoint.x - woerden.x) && 
		(someRDPoint.y - texelVlieland.y) < _lineTexelVlielandIJsselmeer_a * (someRDPoint.x - texelVlieland.x)) {
        return AKA;
    }
    return ALFEN;    
};

var testGooiseMeren_for_ALFEN = new RDPoint(136608,479205);
var testAmstelveen_for_AKA = new RDPoint(118047,478767);
var testStavoren_for_ALFEN = new RDPoint(153046,544175);
var testEnhuizen_for_AKA = new RDPoint(148588,524363);


</script>
</head>
<body>
<button onclick="start()">Start</button>
<button onclick="stationTypeByXY(testEnhuizen_for_AKA)">RD</button>
</body>
</html>